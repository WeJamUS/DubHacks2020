<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="author" content="Albert Lam">
    <meta name="description" content="Project">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
    <title>Home</title>
    <script type="displayCalendar" src="js/table.js"></script>
</head>

<body>
    <div class="menu">

        <div class="flyoutMenu">
            <img id="navIcon" src="img/navicon.svg">
            <p><a href="home.html">Home</a></p>
            <p><a href="group.html">Pals</a></p>
            <p><a href="#">Add Group</a></p>
        </div>
    </div>
    <div class="freeSchedule">
        <h1>When are you free?</h1>
        <h2>Your Schedule</h2>
    </div>
    <div class="calendar">
        <h2 id="date"></h2>
        <div id="dates">
            <div>
                <p>Su</p>
                <p>M</p>
                <p>Tu</p>
                <p>W</p>
                <p>Th</p>
                <p>F</p>
                <p>S</p>
            </div>
            <div id="week1"></div>
            <div id="week2"></div>
            <div id="week3"></div>
            <div id="week4"></div>
            <div id="week5"></div>
            <div id="week6"></div>
        </div>

    </div>
    <div class="import">
        <h3>Import your Calendar</h3>

        <div class="threeIcons">
            <a href="google.com">
                <img id="googleIcon" src="img/outlookicon.webp">
            </a>
            <a href="google.com">
                <img id="appleIcon" src="img/googleicon.jpg">
            </a>
            <a href="google.com">
                <img id="outlookIcon" src="img/applecalendaricon.png">
            </a>
        </div>
    </div>


    <script>
        let daysInMonth = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
        /**
   * Displays the current week
   */   
        displayWeek();
        function displayWeek() {
            let date = getSunday();
            let day = date.getDate();
            let month = date.getMonth();
            let year = date.getYear() - 100;
            //let year = date.getFullYear();
            //id("month").textContent = MONTHS[month];
            // let firstDay = dayOfDate(month, year, 1);
            // let lastDay = dayOfDate(month, year, totalDays);
            //fillDates(month, year, totalDays, firstDay, 6 - lastDay);
            let nextWeek = getNextSunday(year, month, day);
            document.getElementById("date").innerHTML = (month + 1) + "/" + (day) + " - " + (nextWeek.getMonth() + 1) + "/" + (nextWeek.getDate());
        }

        function displayNextWeek() {
            let sunday = getNextWeek();
        }

        function getSunday() {
            let date = new Date();
            let month = date.getMonth();
            let daysAhead = date.getDay();
            let year = date.getYear() - 100;
            let day = date.getDate() - daysAhead;
            if (day < 1) {
                month = month - 1;
                if (month < 0) {
                    year = year - 1
                }
                day = day + daysInMonth[month]
            }
            return new Date(year, month, day);
        }
        /**
         * Calculates the numeric date for next week
         * @param {integer} month Current month
         * @param {integer} totalDays Number of days in current month
         * @param {integer} prevDays Number of days in previous month that will appear on the calendar
         * @param {interger} nextDays Number of days in next month that will appear on the calendar
         */
        function getNextSunday(year, month, day){
            day = day + 6;
            if (day > daysInMonth[month]) {
                day = day - daysInMonth[month];
                month = month + 1;
            }
            if (month > 11) {
                month = month -12;
                year = year + 1;
            }
            nextWeek = new Date(year, month, day);
            return nextWeek;
        }

        window.onload = displayCalendar();
    </script>
</body>

</html>